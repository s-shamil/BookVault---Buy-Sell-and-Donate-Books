CREATE OR REPLACE PROCEDURE NOTIF_ACCEPTED (U_ID IN VARCHAR2, BOOK IN VARCHAR2) IS
  -- this_isbn varchar2(20); 
    
    
    
BEGIN
    --1
    INSERT INTO D_DISTRIBUTION (BOOK_ID, RECIPIENT_ID,DUE_DATE)
    VALUES(BOOK,U_ID,SYSDATE);
    --2
    DELETE FROM D_WISHLIST
    WHERE USER_ID=U_ID AND 
    ISBN=(SELECT ISBN FROM BOOK_ENTRY WHERE BOOK_ID=BOOK);
    --3
    DELETE FROM D_STOCK
    WHERE BOOK_ID=BOOK;
    --4
    DELETE FROM NOTIFICATION
    WHERE BOOK_ID=BOOK AND RECEIVER_ID=U_ID;
    

END;